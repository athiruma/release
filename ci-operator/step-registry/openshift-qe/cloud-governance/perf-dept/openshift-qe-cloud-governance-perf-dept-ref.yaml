ref:
  as: openshift-qe-cloud-governance-perf-dept
  # from_image:
  #   namespace: ci
  #   name: cloud-governance
  #   tag: latest
  from_image:
    namespace: ci
    name: telco-bastion
    tag: latest
  commands: openshift-qe-cloud-governance-perf-dept-commands.sh
  credentials:
  - namespace: ci # this entry injects the custom credential
    name: cluster-secrets-aws-perfscale
    mount_path: /secret
  env:
    - name: POLICIES_LIST
      default: "instance_idle, ec2_stop, unattached_volume, ip_unattached, zombie_snapshots, unused_nat_gateway, s3_inactive, empty_roles, zombie_cluster_resource"
    - name: DAYS_TO_DELETE_RESOURCE
      default: "7"
    - name: dry_run
      default: "yes"
    - name: EMAIL_ALERT
      default: "false"
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: >-
    This step runs cloud-governance unattached-volume in dry-run yes
